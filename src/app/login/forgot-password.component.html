<div fxLayout="row" fxLayoutAlign="center" ngClass.gt-sm="mar-t-60">
    <div fxFlex="40" fxFlex.lt-md="90">

        <p *ngIf="!startLoading">Sending mail ...</p>

        <div *ngIf="startLoading" class="forgot-pass-container" >
            <div fxLayout="row" fxLayoutAlign="center center" class="forgot-pass-header">
              Password Assistance
            </div>
            <div fxLayout="row" fxLayoutAlign="center center" ngClass.gt-sm="forgot-pass-text" ngClass.lt-md="forgot-pass-text-m">
                <div fxFlex="100" [hidden]="emailSent" >Enter your registered email address to reset your password</div>
            </div>

            <div fxLayout="row" *ngIf=!emailSent  fxLayoutAlign="center center" class="forgot-pass-content" [ngClass]="{flipOut:emailSent}">                <div fxFlex="70" fxFlex.xs="100" fxAlign="center">

                    <form [formGroup]="forgotPasswordForm" (ngSubmit)="onForgotPassword()" fxFlex="98">
                        <div fxLayout="column">
                            <md-input-container fxFlex="100">
                                <input mdInput formControlName="email"  required  placeholder="Enter your email address">
                                <md-hint align="end" class="error" *ngIf="(forgotPasswordForm.controls['email'].touched||forgotPassSubmitted)&&forgotPasswordForm.controls['email'].invalid">
                                    <span *ngIf="forgotPasswordForm.controls['email'].value.length>0">Please enter valid email</span>
                                    <span *ngIf="forgotPasswordForm.controls['email'].value.length==0">Email is required</span>
                                </md-hint>
                            </md-input-container>
                            <br/>

                            <!--google recaptcha part-->
                            <div fxLayout="column">
                                <div class="g-recaptcha" data-callback="verifyCallback" data-expired-callback="expiryCallback" data-sitekey="6Le-kCMUAAAAAElEsjEzgdM2afayYEzREgPOm4f1"></div>
                                <md-hint class="error txt-12" *ngIf="!isHuman"> Please verify that you are not a robot</md-hint>
                            </div>

                            <div id="captcha_container"></div>

                            <br/>
                            <div fxFlex="80"  fxLayoutAlign="end">
                                <button type="submit" md-raised-button color="primary" class="forgot-pass-button"
                                         [ngClass]="{'resLoading':mailResLoading,'shake':shake}"
                                        (click)="validateForgotPass(forgotPasswordForm.valid)" [disabled]="mailResLoading">
                                    <span [ngClass]="{'vis-hidden':mailResLoading}">CONTINUE &nbsp;<i class="material-icons txt-18">&#xE163;</i></span>
                                </button>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
            <div *ngIf=emailSent class="email-sent-container" fxLayout="row" fxLayoutWrap fxLayoutAlign="center center">
                <div fxFlex="50" class="center-align"><img  src="../../assets/img/ringing-bell.svg"></div>
                <div fxFlex="100">
                    <p class="pad-lr-40" align="center">
                        <span><i class="material-icons success">check</i></span>
                        <span class="message" ngClass.gt-sm="txt-18">An email has been sent to <span class="bold">{{email}}</span>.<br>
                        Please follow the instructions in the email to reset your password.</span>
                    </p>
                </div>

            </div>
        </div>
    </div>
</div>
